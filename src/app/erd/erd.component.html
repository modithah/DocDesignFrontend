<div class="jumbotron" style="background-color: #fff; height: calc(95vh);">
  <h2>Generate Entity Relationships</h2>
  <div class="form-group">
    <div class="col-sm-4">
      <div class="btn-toolbar">
        <div class="btn-group mr-2" role="group">
          <button class="btn btn-primary" (click)="addEntity($event)">Add Entity</button>
        </div>
        <div class="btn-group mr-2" role="group">
          <button class="btn btn-primary" style="padding-left: 15px" (click)="addRelationship($event)"
                  [disabled]="canAddRel()">Add
            Relationship
          </button>
        </div>
        <div class="btn-group mr-2" role="group">
          <button class="btn btn-primary" style="padding-left: 15px" (click)="download($event)"
                  [disabled]="canAddRel()">Download Design
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-6">
      <span>Entities</span>
      <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
        <ng-template ngFor let-item [ngForOf]="atoms">
          <ngb-panel title="{{item.name}}">
            <ng-template ngbPanelContent>
              <!--              <form>-->
              <div class="form-group row">
                <label for="repeatSelect" class="col-sm-2 col-form-label">Name:</label>
                <div class="col-sm-4">
                  <input class="form-control" type="text" [(ngModel)]="item.name">
                </div>
                <label for="repeatSelect" class="col-sm-2 col-form-label">Count:</label>
                <div class="col-sm-4">
                  <input class="form-control" type="text" [(ngModel)]="item.count">
                </div>
              </div>
              <div class="form-group row">
                <label for="repeatSelect" class="col-sm-2 col-form-label">Root Name:</label>
                <div class="col-sm-4">
                  <input class="form-control" type="text" [(ngModel)]="item.id">
                </div>
              </div>
              <!--              </form>-->
              <div class="form-group row">
                <label class="col-4 col-form-label">Attributes</label>
              </div>
              <div class="form-group row">
                <div class="col-sm-4">
                  <input class="form-control" type="text" [(ngModel)]="item.newAtt.name">
                </div>
                <div class="col-sm-2">
                  <input class="form-control" type="text" [(ngModel)]="item.newAtt.size">
                </div>
                <div class="col-sm-2">
                  <select class="form-control" name="repeatSelect"
                          [(ngModel)]="item.newAtt.type">
                    <ng-template ngFor let-option [ngForOf]="dTypes">
                      <option value="{{option}}">{{option}}</option>
                    </ng-template>
                  </select>
                </div>
                <div class="col-sm-4">
                  <button class="btn btn-primary" (click)="item.addAttribute()" [disabled]="item.canAdd()">Add
                    Attribute
                  </button>
                </div>

              </div>
              <ul>
                <ng-template ngFor let-att [ngForOf]="item.attributes">
                  <li>{{att.stringValue}}</li>
                </ng-template>
              </ul>
            </ng-template>
          </ngb-panel>
        </ng-template>
      </ngb-accordion>
      <!--        <input type="text" [value]="item.name">-->

    </div>
    <div class="col-4">
      <span>Relationships</span>
      <ngb-accordion #acc="ngbAccordion" activeIds="ngb-panel-0">
        <!--    <ng-template ngFor let-item [ngForOf]="workload.queries" >-->

        <ng-template ngFor let-item [ngForOf]="relationships">
          <ngb-panel title="{{item.fullName}}">
            <ng-template ngbPanelContent>
              <form>
                <div class="form-group row">
                  <label for="repeatSelect" class="col-sm-4 col-form-label">From:</label>
                  <div class="col-sm-4">
                    <select class="form-control" name="repeatSelect" id="repeatSelect"
                            [(ngModel)]="item.from">
                      <ng-template ngFor let-option [ngForOf]="atoms">
                        <option value="{{option.id}}">{{option.name}}</option>
                      </ng-template>
                    </select>
                  </div>
                  <div class="col-sm-4">
                    <input class="form-control" type="text" [(ngModel)]="item.fromVal">
                  </div>
                </div>
                <div class="form-group row">
                  <label for="repeatSelect" class="col-sm-4 col-form-label">To:</label>
                  <div class="col-sm-4">
                    <select class="form-control" name="repeatSelect" id="repeatSelect1"
                            [(ngModel)]="item.to">
                      <ng-template ngFor let-option [ngForOf]="atoms">
                        <option value="{{option.id}}">{{option.name}}</option>
                      </ng-template>
                    </select>
                  </div>
                  <div class="col-sm-4">
                    <input class="form-control" type="text" [(ngModel)]="item.toVal">
                  </div>
                </div>
              </form>
            </ng-template>
          </ngb-panel>
        </ng-template>
      </ngb-accordion>
    </div>
  </div>


</div>

